(self.webpackChunkbuildmarket_angular=self.webpackChunkbuildmarket_angular||[]).push([[913],{374:(t,i,e)=>{"use strict";e.d(i,{p:()=>C});var o=e(5366),r=e(4689),p=e(6301),n=e(5031),c=e(1334),s=e(1116),d=e(4289);let a=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-empty-preview"]],decls:2,vars:0,consts:[[1,"empty-preview"],["src","assets/img/brand-card-dummy.png","alt","",1,"empty-preview__img"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.qZA())},styles:[".empty-preview[_ngcontent-%COMP%]{padding:15px}.empty-preview__img[_ngcontent-%COMP%]{display:block;width:100%;max-width:150px;height:auto;margin:0 auto;opacity:.4}"]}),t})();var u=e(7672),l=e(1663);const _=["sliderRef"];function g(t,i){1&t&&(o.TgZ(0,"div",6),o.TgZ(1,"h1"),o._uU(2,"\u0422\u043e\u0432\u0430\u0440 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0439. "),o.TgZ(3,"a",7),o.TgZ(4,"span"),o._uU(5,"\u041f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0443 \u043a\u0430\u0442\u0430\u043b\u043e\u0433"),o.qZA(),o.qZA(),o._uU(6," \u0442\u0430 \u0437\u0440\u043e\u0431\u0456\u0442\u044c \u0441\u0432\u0456\u0439 \u0432\u0438\u0431\u0456\u0440."),o.qZA(),o.qZA())}const f=function(t){return{active:t}};function m(t,i){if(1&t){const t=o.EpF();o.TgZ(0,"div",27),o.NdJ("click",function(){const i=o.CHM(t).index;return o.oxw(4).changeSlide(i)}),o._UZ(1,"img",28),o.qZA()}if(2&t){const t=i.$implicit;o.Q6J("ngClass",o.VKq(2,f,t.isActive)),o.xp6(1),o.s9C("src",t.src,o.LSH)}}function h(t,i){if(1&t&&(o.TgZ(0,"div",30),o._UZ(1,"img",31),o.qZA()),2&t){const t=o.oxw().$implicit,i=o.oxw(3).ngIf;o.xp6(1),o.s9C("src",t.original,o.LSH),o.s9C("alt",i.title)}}function w(t,i){1&t&&o.YNc(0,h,2,2,"ng-template",29)}function x(t,i){if(1&t){const t=o.EpF();o.TgZ(0,"div",21),o.TgZ(1,"div",22),o.YNc(2,m,2,4,"div",23),o.qZA(),o.TgZ(3,"swiper",24,25),o.NdJ("swiper",function(i){return o.CHM(t),o.oxw(3).onSwiper(i)})("slideChange",function(){return o.CHM(t),o.oxw(3).onSlideChange()}),o.YNc(5,w,1,0,void 0,26),o.qZA(),o.qZA()}if(2&t){const t=o.oxw(2).ngIf,i=o.oxw();o.xp6(2),o.Q6J("ngForOf",i.preview),o.xp6(1),o.Q6J("config",i.config),o.xp6(2),o.Q6J("ngForOf",t.images)}}function v(t,i){1&t&&o._UZ(0,"app-empty-preview")}function b(t,i){if(1&t){const t=o.EpF();o.TgZ(0,"button",32),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).addToCart()}),o._uU(1,"\u0414\u043e\u0434\u0430\u0442\u0438 \u0443 \u043a\u043e\u0448\u0438\u043a"),o.qZA()}}function Z(t,i){if(1&t){const t=o.EpF();o.TgZ(0,"button",32),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).addToOrder()}),o._uU(1,"\u0414\u043e\u0434\u0430\u0442\u0438 \u0443 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"),o.qZA()}}function y(t,i){if(1&t&&(o.TgZ(0,"span",39),o._uU(1),o.qZA()),2&t){const t=o.oxw().$implicit;o.xp6(1),o.Oqu(t.unit)}}function A(t,i){if(1&t&&(o.TgZ(0,"div",35),o.TgZ(1,"div",36),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.qZA(),o.TgZ(4,"div",37),o._uU(5),o.YNc(6,y,2,1,"span",38),o.qZA(),o.qZA()),2&t){const t=i.$implicit;o.xp6(3),o.Oqu(t.title),o.xp6(2),o.hij("",t.value," "),o.xp6(1),o.Q6J("ngIf",t.unit)}}function I(t,i){if(1&t&&(o.TgZ(0,"div",14),o.TgZ(1,"div",33),o.YNc(2,A,7,3,"div",34),o.qZA(),o.qZA()),2&t){const t=o.oxw(2).ngIf;o.xp6(2),o.Q6J("ngForOf",t.parameters)}}function T(t,i){if(1&t&&(o.TgZ(0,"div",8),o.TgZ(1,"div",9),o.YNc(2,x,6,3,"div",10),o.YNc(3,v,1,0,"ng-template",null,11,o.W1O),o.qZA(),o.TgZ(5,"div",12),o.TgZ(6,"h1",13),o._uU(7),o.qZA(),o.TgZ(8,"div",14),o.TgZ(9,"div",15),o._uU(10),o.ALo(11,"removeComma"),o.ALo(12,"number"),o.TgZ(13,"span",16),o._uU(14,"\u20b4"),o.qZA(),o.qZA(),o.YNc(15,b,2,0,"button",17),o.YNc(16,Z,2,0,"ng-template",null,18,o.W1O),o.qZA(),o._UZ(18,"div",19),o.YNc(19,I,3,1,"div",20),o.qZA(),o.qZA()),2&t){const t=o.MAs(4),i=o.MAs(17),e=o.oxw().ngIf,r=o.oxw();o.xp6(2),o.Q6J("ngIf",!!r.preview&&r.preview.length>0)("ngIfElse",t),o.xp6(5),o.Oqu(e.title),o.xp6(3),o.hij("",o.lcZ(11,8,o.xi3(12,10,e.price,"1.2-2"))," "),o.xp6(5),o.Q6J("ngIf",!r.isPopupAddProduct)("ngIfElse",i),o.xp6(3),o.Q6J("innerHTML",e.info,o.oJD),o.xp6(1),o.Q6J("ngIf",!!e.parameters&&e.parameters.length>0)}}function k(t,i){if(1&t&&(o.TgZ(0,"div",3),o.YNc(1,g,7,0,"div",4),o.YNc(2,T,20,13,"ng-template",null,5,o.W1O),o.qZA()),2&t){const t=i.ngIf,e=o.MAs(3),r=o.oxw();o.xp6(1),o.Q6J("ngIf",r.isEmptyObject(t))("ngIfElse",e)}}function q(t,i){1&t&&(o.TgZ(0,"div",3),o._UZ(1,"mat-spinner",40),o.qZA())}let C=(()=>{class t{constructor(t,i,e,r){this._cartService=t,this._changeDetectorRef=i,this._productService=e,this._route=r,this.addProductToOrder=new o.vpe,this.config={slidesPerView:1,pagination:{clickable:!0}},this._typeID="",this._productID=""}addToCart(){this._cartService.addProduct(this._typeID,this._productID,1)}addToOrder(){this.addProductToOrder.emit({typeID:this._typeID,productID:this._productID})}changeActivePreview(t){this.preview.forEach((i,e)=>{i.isActive=t===e}),this._changeDetectorRef.detectChanges()}changeSlide(t){this.sliderRef.swiperRef.slideTo(t)}getPreview(t=0){this._productSubscription=this.product$.pipe().subscribe(i=>{this.preview=this.getPreviewArr(i.images,t)})}getPreviewArr(t,i){return t?t.map((t,e)=>({src:t.original,isActive:i===e})):[]}getProduct(){this.isPopupAddProduct?(this._typeID=this.popupConfig.typeID,this._productID=this.popupConfig.productID,this.product$=this._productService.getByTypeAndID(this._typeID,this._productID)):(console.log("\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u043f\u0443\u0441\u0442\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430!"),this.product$=this._route.params.pipe((0,r.w)(t=>(this._typeID=t.typeID,this._productID=t.productID,this._productService.getByTypeAndID(this._typeID,this._productID)))))}isEmptyObject(t){return 0===Object.keys(t).length}ngOnDestroy(){this._productSubscription&&this._productSubscription.unsubscribe()}ngOnInit(){this.getProduct(),this.getPreview()}onSlideChange(){this.changeActivePreview(this.sliderRef.swiperRef.activeIndex)}onSwiper(t){}}return t.\u0275fac=function(i){return new(i||t)(o.Y36(p.N),o.Y36(o.sBO),o.Y36(n.M),o.Y36(c.gz))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-product-page"]],viewQuery:function(t,i){if(1&t&&o.Gf(_,5),2&t){let t;o.iGM(t=o.CRH())&&(i.sliderRef=t.first)}},inputs:{isPopupAddProduct:"isPopupAddProduct",popupConfig:"popupConfig"},outputs:{addProductToOrder:"addProductToOrder"},decls:5,vars:4,consts:[[1,"product"],["class","site__centered",4,"ngIf","ngIfElse"],["loading",""],[1,"site__centered"],["class","product__empty-info",4,"ngIf","ngIfElse"],["productWrap",""],[1,"product__empty-info"],["routerLink","/catalog",1,"site__link"],[1,"product__wrap"],[1,"product__column","product__column_slider"],["class","product-swiper",4,"ngIf","ngIfElse"],["emptyPreview",""],[1,"product__column","product__column_txt"],[1,"product__title"],[1,"product__section"],[1,"product__price"],[1,"product__price-sign"],["type","button","class","btn",3,"click",4,"ngIf","ngIfElse"],["popupButton",""],[1,"product__section",3,"innerHTML"],["class","product__section",4,"ngIf"],[1,"product-swiper"],[1,"product-swiper__preview"],["class","product-swiper__preview-item",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"config","swiper","slideChange"],["sliderRef",""],[4,"ngFor","ngForOf"],[1,"product-swiper__preview-item",3,"ngClass","click"],["alt","",1,"product-swiper__preview-pic",3,"src"],["swiperSlide",""],[1,"product-swiper__slide"],[1,"product-swiper__pic",3,"src","alt"],["type","button",1,"btn",3,"click"],[1,"parameters-list"],["class","parameters-list__item",4,"ngFor","ngForOf"],[1,"parameters-list__item"],[1,"parameters-list__title"],[1,"parameters-list__value"],["class","parameters-list__unit",4,"ngIf"],[1,"parameters-list__unit"],[1,"loading-type-1"]],template:function(t,i){if(1&t&&(o.TgZ(0,"div",0),o.YNc(1,k,4,2,"div",1),o.ALo(2,"async"),o.YNc(3,q,2,0,"ng-template",null,2,o.W1O),o.qZA()),2&t){const t=o.MAs(4);o.xp6(1),o.Q6J("ngIf",o.lcZ(2,2,i.product$))("ngIfElse",t)}},directives:[s.O5,c.yS,s.sg,d.nF,s.mk,d.YC,a,u.$g],pipes:[s.Ov,l.f,s.JJ],styles:['.product__wrap{margin:0 -15px 30px}.product__column{padding:0 15px}.product__column .product__title{margin-bottom:15px;font-size:20px;font-weight:600;font-family:inherit;line-height:1.3;letter-spacing:.5px;word-spacing:2px}.product__section{padding:15px 0;border-bottom:1px solid var(--border-color);font-size:13px}.product__section:last-child{border-bottom:none}.product__section>:last-child{margin-bottom:0}.product__section:first-of-type{padding-top:0}.product__section h1,.product__section h2,.product__section h3,.product__section h4,.product__section h5,.product__section h6,.product__section-title{font-size:17px;line-height:1.3;font-weight:600;margin-bottom:15px;font-family:Inter,sans-serif}.product__section h6{font-size:13px}.product__section h5{font-size:14px}.product__section h4{font-size:15px}.product__section h3{font-size:16px}.product__section h2{font-size:17px}.product__section h1{font-size:18px}.product__section b,.product__section strong{color:var(--font-color-1)}.product__section li{display:block;position:relative;line-height:1.3;margin:0 0 10px;padding-left:13px}.product__section li:before{content:"";position:absolute;top:6px;left:0;color:inherit;background:currentColor;width:4px;height:4px;border-radius:50%}.product__section li:last-child{margin-bottom:0}.product__price{margin-bottom:15px;color:#b12704;font-size:24px}.product__price-sign{font-size:75%}.product__list{margin-bottom:15px}.product__list-item{position:relative;color:var(--font-color-3);font-size:13px;line-height:1.45;padding-left:10px}.product__list-item:before{content:"";position:absolute;top:8px;left:0;width:4px;height:4px;border-radius:50%;background:var(--font-color-3)}.product__empty-info{padding:30px 0}.product a{color:var(--brand-color-1);border-bottom:1px solid;word-break:break-word;transition:border-bottom .3s ease}.product-swiper__preview{display:none;padding:30px 15px 0 0;width:55px}.product-swiper__preview-item{display:inline-block;margin-bottom:0;padding:2px;border-radius:2px;border:1px solid #0000;box-shadow:0 0 2px 0 #0000;cursor:pointer;transition:border-color .3s ease,box-shadow .3s ease}.product-swiper__preview-item.active{border-color:var(--brand-color-1);box-shadow:0 0 9px 0 var(--brand-color-1)}.product-swiper__preview-item img,.product-swiper__preview-pic{display:block;width:38px;height:50px;object-fit:contain;object-position:center}.product-swiper__preview-item p{margin-bottom:0!important}.product-swiper__slide{position:relative;height:250px}.product-swiper__slide p{margin-bottom:0!important}.product-swiper__pic,.product-swiper__slide img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:contain;object-position:center}.product-swiper .swiper{padding-bottom:20px}.product-swiper .swiper-pagination{bottom:0}.product-swiper .swiper-pagination-bullet{opacity:1;background:#0000;border:1px solid var(--font-color-3)}.product-swiper .swiper-pagination-bullet-active{background:var(--font-color-3)}.parameters-list__item{display:flex;flex-direction:row;flex-wrap:wrap;margin-bottom:15px}.parameters-list__item:last-child{margin-bottom:0}.parameters-list__title{position:relative;align-self:flex-start;width:50%}.parameters-list__title:before{content:"";display:none;position:absolute;left:0;bottom:4px;width:100%;border-bottom:1px dotted var(--border-color)}.parameters-list__title span{position:relative;display:inline-block;padding-right:16px;background:#fff}.parameters-list__value{width:50%;padding-left:15px;font-weight:700}@media screen and (min-width:768px){.product__wrap{display:flex;align-items:flex-start}.product__column_slider{width:380px;position:sticky;top:20px}.product__column_txt{width:calc(100% - 380px)}.product-swiper{display:flex;align-items:flex-start}.product-swiper__preview{display:block}.product-swiper__slide{height:300px}.product-swiper .swiper{width:calc(100% - 55px);padding-bottom:0}.product-swiper .swiper-pagination{display:none}.parameters-list__title:before{display:block}}@media screen and (min-width:1024px){.product p{margin-bottom:15px}.product__column_slider{width:500px}.product__column_txt{width:calc(100% - 500px)}.product__column .product__title{font-size:30px}.product__section-title{font-size:20px}.product__section,.product__section h6{font-size:16px}.product__section h5{font-size:17px}.product__section h4{font-size:18px}.product__section h3{font-size:19px}.product__section h2{font-size:20px}.product__section h1{font-size:22px}.product__section li:before{top:8px;width:5px;height:5px}.product__price{font-size:36px}.product__list-item{font-size:16px}.product a:hover{border-bottom:1px solid #0000}.product-swiper__slide{height:400px}}'],encapsulation:2}),t})()},7913:(t,i,e)=>{"use strict";e.r(i),e.d(i,{ProductPageModule:()=>_});var o=e(1116),r=e(1334),p=e(374),n=e(5366);const c=[{path:"",component:p.p}];let s=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[r.Bz.forChild(c)],r.Bz]}),t})();var d=e(7672),a=e(4289),u=e(866);let l=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[o.ez]]}),t})(),_=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[o.ez,s,u.Z,a.kz,d.Cq,l]]}),t})()}}]);