(self.webpackChunkbuildmarket_angular=self.webpackChunkbuildmarket_angular||[]).push([[92],{9092:(t,e,i)=>{"use strict";i.r(e),i.d(e,{CatalogTypeModule:()=>q});var c=i(1116),r=i(1334),s=i(5366),a=i(5031),n=i(8207),o=i(6455),p=i(994),l=i(3782),u=i(8293);const h=["checkbox"];function g(t,e){if(1&t&&(s.ynx(0),s.TgZ(1,"h1",9),s._uU(2),s.qZA(),s.BQk()),2&t){const t=s.oxw();s.xp6(2),s.Oqu(t.type.title)}}function d(t,e){if(1&t&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&t){const t=s.oxw(3).$implicit;s.xp6(1),s.hij(" ",t.unit,"")}}function f(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",16),s.TgZ(1,"mat-checkbox",17,18),s.NdJ("change",function(){return s.CHM(t),s.oxw(5).checkboxChange()}),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.YNc(5,d,2,1,"span",2),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,i=s.oxw(2).$implicit;s.xp6(1),s.hYB("name","",i.title,"::",t,""),s.xp6(3),s.Oqu(t),s.xp6(1),s.Q6J("ngIf",!!i.unit)}}function _(t,e){if(1&t&&(s.ynx(0),s.TgZ(1,"h2",12),s._uU(2),s.qZA(),s.TgZ(3,"div",13),s.TgZ(4,"div",14),s.YNc(5,f,6,4,"div",15),s.qZA(),s.qZA(),s.BQk()),2&t){const t=s.oxw().$implicit,e=s.oxw(3);s.xp6(2),s.Oqu(t.title),s.xp6(3),s.Q6J("ngForOf",e.parametersObject[t.title])}}function m(t,e){if(1&t&&(s.ynx(0),s.YNc(1,_,6,2,"ng-container",2),s.BQk()),2&t){const t=e.$implicit,i=s.oxw(3);s.xp6(1),s.Q6J("ngIf",i.parametersObject[t.title].length>0)}}function x(t,e){if(1&t&&(s.ynx(0),s.YNc(1,m,2,1,"ng-container",11),s.BQk()),2&t){const t=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",t.type.parameters)}}function y(t,e){if(1&t&&(s.TgZ(0,"div",10),s.YNc(1,x,2,1,"ng-container",2),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",t.type.parameters&&t.type.parameters.length>0)}}function b(t,e){1&t&&(s.TgZ(0,"h2",19),s._uU(1,"\u041d\u0430 \u0436\u0430\u043b\u044c, \u0442\u043e\u0432\u0430\u0440\u0438 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456"),s.qZA())}function v(t,e){1&t&&s._UZ(0,"div",20),2&t&&s.Q6J("product",e.$implicit)}const Z=[{path:"",component:(()=>{class t{constructor(t,e,i,c){this._productService=t,this._productTypeService=e,this._route=i,this._storeService=c,this.filterData={},this.parametersObject={},this.products=[]}checkboxChange(){this.filterData={},this.checkboxes.forEach(t=>{var e;if(t.checked){const i=null===(e=t.name)||void 0===e?void 0:e.split("::");if(!i)return;this.filterData[i[0]]=this.filterData[i[0]]?[...this.filterData[i[0]].concat(),i[1]]:[i[1]]}})}getProductsByTypeID(){if(!this.type.id)return this.products=[],void this._storeService.showPreloader.next(!1);this._productService.getProductsByType(this.type.id).subscribe(t=>{this.products=t,this.parametersObjectFilling(),this._storeService.showPreloader.next(!1)})}getType(t){this._getTypeSubscription=this._productTypeService.getType(t).subscribe(t=>{this.type=t,this.type?(this.type.parameters&&this.type.parameters.forEach(t=>{this.parametersObject[t.title]=[]}),this.getProductsByTypeID()):this._storeService.showPreloader.next(!1)})}ngOnDestroy(){var t,e;null===(t=this._getTypeSubscription)||void 0===t||t.unsubscribe(),null===(e=this._paramsSubscription)||void 0===e||e.unsubscribe()}ngOnInit(){this._storeService.showPreloader.next(!0),this._paramsSubscription=this._route.params.subscribe(t=>{this.getType(t.id)})}parametersObjectFilling(){this.products.forEach(t=>{t.parameters&&t.parameters.forEach(t=>{this.parametersObject[t.title].includes(t.value)||this.parametersObject[t.title].push(t.value);const e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});this.parametersObject[t.title].sort(e.compare)})})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(a.M),s.Y36(n.c),s.Y36(r.gz),s.Y36(o.d))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-catalog-type"]],viewQuery:function(t,e){if(1&t&&s.Gf(h,5),2&t){let t;s.iGM(t=s.CRH())&&(e.checkboxes=t)}},decls:10,vars:7,consts:[[1,"catalog"],[1,"site__centered"],[4,"ngIf"],[1,"catalog__cover"],["class","catalog__menu",4,"ngIf"],[1,"catalog__wrap"],[1,"catalog__cards"],["class","catalog__cards-empty",4,"ngIf"],["app-card","","class","card",3,"product",4,"ngFor","ngForOf"],[1,"site__title"],[1,"catalog__menu"],[4,"ngFor","ngForOf"],[1,"catalog__menu-title"],[1,"catalog__menu-section"],[1,"checkbox-filter"],["class","checkbox-filter__row",4,"ngFor","ngForOf"],[1,"checkbox-filter__row"],[3,"name","change"],["checkbox",""],[1,"catalog__cards-empty"],["app-card","",1,"card",3,"product"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.YNc(2,g,3,1,"ng-container",2),s.TgZ(3,"div",3),s.YNc(4,y,2,1,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"div",6),s.YNc(7,b,2,0,"h2",7),s.YNc(8,v,1,1,"div",8),s.ALo(9,"filterProducts"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(2),s.Q6J("ngIf",e.type),s.xp6(2),s.Q6J("ngIf",e.type),s.xp6(3),s.Q6J("ngIf",0===e.products.length),s.xp6(1),s.Q6J("ngForOf",s.xi3(9,4,e.products,e.filterData)))},directives:[c.O5,c.sg,p.oG,l.A],pipes:[u.s],styles:[".catalog__cards-empty,h2.catalog__cards-empty{font-size:18px;font-family:Inter,sans-serif;padding:0 15px;margin-bottom:30px}@media screen and (min-width:768px){.catalog__cards-empty,h2.catalog__cards-empty{font-size:24px}}@media screen and (min-width:1024px){.catalog__cards-empty,h2.catalog__cards-empty{font-size:30px}}"],encapsulation:2}),t})()}];let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.Bz.forChild(Z)],r.Bz]}),t})();var w=i(5800),k=i(7672),O=i(2182);let q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[w.d,T,c.ez,O.y,p.p9,k.Cq]]}),t})()}}]);