(self.webpackChunkbuildmarket_angular=self.webpackChunkbuildmarket_angular||[]).push([[936],{9936:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ProductsTypesModule:()=>A});var a=r(1116),n=r(1334),i=r(1462),s=r(5366),o=r(8207),c=r(3070),l=r(9550),u=r(7672),p=r(9704);const d=function(e){return["/admin","types","edit",e]};function g(e,t){if(1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"td",13),s._uU(2),s.qZA(),s.TgZ(3,"td",14),s._uU(4),s.qZA(),s.TgZ(5,"td",15),s._uU(6),s.ALo(7,"date"),s.qZA(),s.TgZ(8,"td",16),s.TgZ(9,"a",17),s._uU(10,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),s.qZA(),s.qZA(),s.qZA()),2&e){const e=t.$implicit,r=t.index;s.xp6(2),s.Oqu(r+1),s.xp6(2),s.Oqu(e.title),s.xp6(2),s.Oqu(s.xi3(7,4,e.date,"dd.MM.yyyy, HH:mm:ss")),s.xp6(3),s.Q6J("routerLink",s.VKq(7,d,e.id))}}function Z(e,t){if(1&e&&(s.TgZ(0,"table",9),s.TgZ(1,"thead",10),s.TgZ(2,"tr"),s.TgZ(3,"th"),s._uU(4,"\u2116"),s.qZA(),s.TgZ(5,"th"),s._uU(6,"\u041d\u0430\u0437\u0432\u0430 \u0442\u0438\u043f\u0443 \u0442\u043e\u0432\u0430\u0440\u0456\u0432"),s.qZA(),s.TgZ(7,"th"),s._uU(8,"\u0414\u0430\u0442\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f"),s.qZA(),s.TgZ(9,"th"),s._uU(10,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"tbody",11),s.YNc(12,g,11,9,"tr",12),s.ALo(13,"search"),s.qZA(),s.qZA()),2&e){const e=t.ngIf,r=s.oxw();s.xp6(12),s.Q6J("ngForOf",s.xi3(13,1,e,r.searchForm.get("filterTitle").value))}}function _(e,t){1&e&&s._UZ(0,"mat-spinner",18)}const h=function(){return["/admin","types","create"]};let T=(()=>{class e{constructor(e){this._productTypeService=e}getTypesList(){this.types$=this._productTypeService.getTypes()}ngOnDestroy(){var e;null===(e=this._getTypesSubscription)||void 0===e||e.unsubscribe()}ngOnInit(){this.searchForm=new i.cw({filterTitle:new i.NI("")}),this.getTypesList()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.c))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-products-types"]],decls:16,vars:7,consts:[[1,"site__centered","site__pb"],[1,"site__title"],[1,"btn",3,"routerLink"],[1,"form-control"],[3,"formGroup"],["appearance","outline"],["type","text","formControlName","filterTitle","matInput",""],["class","nice-table",4,"ngIf","ngIfElse"],["loading",""],[1,"nice-table"],[1,"nice-table__thead"],[1,"nice-table__tbody"],[4,"ngFor","ngForOf"],["data-label","\u2116"],["data-label","\u041d\u0430\u0437\u0432\u0430",1,"nice-table__title"],["data-label","\u0414\u0430\u0442\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f",1,"nice-table__date"],["data-label","\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f"],["target","_blank",1,"btn","btn_small",3,"routerLink"],[1,"loading-type-1"]],template:function(e,t){if(1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"h1",1),s._uU(2,"\u0422\u0438\u043f\u0438 \u0442\u043e\u0432\u0430\u0440\u0456\u0432"),s.qZA(),s.TgZ(3,"p"),s.TgZ(4,"a",2),s._uU(5,"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0442\u0438\u043f \u0442\u043e\u0432\u0430\u0440\u0443"),s.qZA(),s.qZA(),s.TgZ(6,"div",3),s.TgZ(7,"form",4),s.TgZ(8,"mat-form-field",5),s.TgZ(9,"mat-label"),s._uU(10,"\u0424\u0456\u043b\u044c\u0442\u0440 \u043f\u043e \u043d\u0430\u0437\u0432\u0456 \u0442\u043e\u0432\u0430\u0440\u0443"),s.qZA(),s._UZ(11,"input",6),s.qZA(),s.qZA(),s.qZA(),s.YNc(12,Z,14,4,"table",7),s.ALo(13,"async"),s.YNc(14,_,1,0,"ng-template",null,8,s.W1O),s.qZA()),2&e){const e=s.MAs(15);s.xp6(4),s.Q6J("routerLink",s.DdM(6,h)),s.xp6(3),s.Q6J("formGroup",t.searchForm),s.xp6(5),s.Q6J("ngIf",s.lcZ(13,4,t.types$))("ngIfElse",e)}},directives:[n.yS,i._Y,i.JL,i.sg,c.KE,c.hX,i.Fj,l.Nt,i.JJ,i.u,a.O5,a.sg,u.$g],pipes:[a.Ov,p.C,a.uU],styles:[""]}),e})();var b=r(2906);const f=[{path:"",component:T},{path:"create",loadChildren:()=>Promise.all([r.e(112),r.e(841),r.e(752),r.e(596),r.e(481)]).then(r.bind(r,4481)).then(e=>e.CreateTypeModule),canActivate:[b.a]},{path:"edit/:typeID",loadChildren:()=>Promise.all([r.e(112),r.e(841),r.e(752),r.e(596),r.e(592),r.e(246)]).then(r.bind(r,8246)).then(e=>e.EditTypeModule),canActivate:[b.a]}];let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.Bz.forChild(f)],n.Bz]}),e})();var m=r(4599);let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.ez,y,c.lN,l.c,u.Cq,i.UX,m.t]]}),e})()},8207:(e,t,r)=>{"use strict";r.d(t,{c:()=>c});var a=r(529),n=r(9996),i=r(5366),s=r(2693),o=r(5540);let c=(()=>{class e{constructor(e,t){this._http=e,this._angularFireDatabase=t}create(e){return this._angularFireDatabase.list("/productType").push(e)}getTypes(){return this._http.get(`${a.N.firebaseConfig.databaseURL}/productType.json`).pipe((0,n.U)(e=>this._getTypesEdit(e),e=>{console.log("error ",e)}))}getType(e){return this._http.get(`${a.N.firebaseConfig.databaseURL}/productType/${e}.json`).pipe((0,n.U)(e=>e,e=>{console.log("error ",e)}))}remove(e){const t=this._angularFireDatabase.object(`/productType/${e}`);return console.log("curItem ",t),this._angularFireDatabase.object(`/productType/${e}`).remove()}update(e){return this._angularFireDatabase.list("/productType").set(e.id,e)}_getTypesEdit(e){return e?Object.keys(e).map(t=>Object.assign(Object.assign({},e[t]),{id:t,date:new Date(e[t].date)}),e=>{}):[]}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(s.eN),i.LFG(o.KQ))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);