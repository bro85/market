(self.webpackChunkbuildmarket_angular=self.webpackChunkbuildmarket_angular||[]).push([[401,949],{3782:(t,e,r)=>{"use strict";r.d(e,{A:()=>m});var i=r(5366),n=r(6301),a=r(1116),o=r(1334),c=r(1663);const s=["app-card",""];function d(t,e){if(1&t&&i._UZ(0,"img",11),2&t){const t=i.oxw(2);i.s9C("src",t.previewImage,i.LSH),i.s9C("alt",t.product.title)}}const p=function(t){return{"card__pic-empty":t}};function g(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",2),i.NdJ("click",function(){return i.CHM(t),i.oxw().clickToLink()}),i.TgZ(2,"div",3),i.YNc(3,d,1,2,"img",4),i.qZA(),i.TgZ(4,"div",5),i.TgZ(5,"div",6),i._uU(6),i.qZA(),i.TgZ(7,"div",7),i.TgZ(8,"div",8),i._uU(9),i.ALo(10,"removeComma"),i.ALo(11,"number"),i.TgZ(12,"span",9),i._uU(13,"\u20b4"),i.qZA(),i.qZA(),i.TgZ(14,"button",10),i.NdJ("click",function(){return i.CHM(t),i.oxw().addToOrder()}),i._UZ(15,"span"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.BQk()}if(2&t){const t=i.oxw();i.xp6(2),i.Q6J("ngClass",i.VKq(9,p,!t.isPreviewImage)),i.xp6(1),i.Q6J("ngIf",t.isPreviewImage),i.xp6(3),i.Oqu(t.product.title),i.xp6(3),i.Oqu(i.lcZ(10,4,i.xi3(11,6,t.product.price,"1.2-2")))}}function l(t,e){if(1&t&&i._UZ(0,"img",11),2&t){const t=i.oxw(2);i.s9C("src",t.previewImage,i.LSH),i.s9C("alt",t.product.title)}}const u=function(t,e){return["/catalog",t,e]};function _(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",12),i.TgZ(1,"a",13),i.YNc(2,l,1,2,"img",4),i.qZA(),i.TgZ(3,"div",5),i.TgZ(4,"a",14),i._uU(5),i.qZA(),i.TgZ(6,"div",7),i.TgZ(7,"div",8),i._uU(8),i.ALo(9,"removeComma"),i.ALo(10,"number"),i.TgZ(11,"span",9),i._uU(12,"\u20b4"),i.qZA(),i.qZA(),i.TgZ(13,"button",10),i.NdJ("click",function(){return i.CHM(t),i.oxw().addToCart()}),i._UZ(14,"span"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("routerLink",i.WLB(11,u,t.product.type,t.product.id))("ngClass",i.VKq(14,p,!t.isPreviewImage)),i.xp6(1),i.Q6J("ngIf",t.isPreviewImage),i.xp6(2),i.Q6J("routerLink",i.WLB(16,u,t.product.type,t.product.id)),i.xp6(1),i.Oqu(t.product.title),i.xp6(3),i.Oqu(i.lcZ(9,6,i.xi3(10,8,t.product.price,"1.2-2")))}}let m=(()=>{class t{constructor(t){this._cartService=t,this.getProductID=new i.vpe,this.addProductToOrder=new i.vpe,this.isPreviewImage=!0}addToCart(){this.product.type&&this.product.id&&this._cartService.addProduct(this.product.type,this.product.id,1)}addToOrder(){this.product.type&&this.product.id&&this.addProductToOrder.emit({typeID:this.product.type,productID:this.product.id})}clickToLink(){this.getProductID.emit(this.product.id)}setPreviewImage(){this.product.images?this.previewImage=this.product.images[0].original:(this.previewImage="",this.isPreviewImage=!1)}ngOnInit(){this.setPreviewImage()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(n.N))},t.\u0275cmp=i.Xpm({type:t,selectors:[["","app-card",""]],inputs:{product:"product",isPopupAddProduct:"isPopupAddProduct"},outputs:{getProductID:"getProductID",addProductToOrder:"addProductToOrder"},attrs:s,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["link",""],[1,"card__wrap",3,"click"],[1,"card__pic",3,"ngClass"],[3,"src","alt",4,"ngIf"],[1,"card__inner"],[1,"card__title"],[1,"card__inner-footer"],[1,"card__price"],[1,"card__price-sign"],["type","button",1,"card__buy",3,"click"],[3,"src","alt"],[1,"card__wrap"],[1,"card__pic",3,"routerLink","ngClass"],[1,"card__title",3,"routerLink"]],template:function(t,e){if(1&t&&(i.YNc(0,g,16,11,"ng-container",0),i.YNc(1,_,15,19,"ng-template",null,1,i.W1O)),2&t){const t=i.MAs(2);i.Q6J("ngIf",e.isPopupAddProduct)("ngIfElse",t)}},directives:[a.O5,a.mk,o.yS],pipes:[c.f,a.JJ],styles:['.card__wrap{width:100%;border:1px solid var(--block-bg-2);transition:box-shadow .3s ease}div.card__wrap{cursor:default}.card__pic{display:block;position:relative;border-bottom:1px solid var(--block-bg-2);padding-bottom:100%}.card__pic img{position:absolute;top:15px;left:15px;width:calc(100% - 30px);height:calc(100% - 30px);object-fit:contain;object-position:center}.card__pic-empty:before{content:"";position:absolute;top:60px;right:60px;bottom:60px;left:60px;opacity:.4;background:url(/assets/img/brand-card-dummy.png) no-repeat 50%;background-size:contain}.card__inner{display:block;padding:15px}.card__inner>:last-child{margin-bottom:0}.card__double{display:flex}.card__double>*{width:50%}.card__double>:nth-child(2n){text-align:right}.card__code,.card__presence{font-size:10px;margin-bottom:7px}.card__code{color:var(--font-color-3)}.card__presence{color:var(--brand-color-1)}.card__title{display:block;margin-bottom:15px;font-weight:400;letter-spacing:.5px;font-size:14px;overflow:hidden;height:36px}.card__price,.card__title{line-height:1.3;color:var(--font-color-1);transition:color .3s ease}.card__price{font-size:18px;font-weight:700}.card__price-sign{margin-left:3px;font-size:75%;font-weight:300;font-family:Roboto,sans-serif}.card__inner-footer{display:flex;justify-content:space-between;align-items:center}.card__buy{border:none;background:#0000;padding:5px;border-radius:5px;transition:background .3s ease}.card__buy span{display:block;width:30px;height:25px;background:url(/assets/img/cart.png) no-repeat 50%;background-size:contain}.card.card_disabled .card__pic{opacity:.5}.card.card_disabled .card__code,.card.card_disabled .card__presence,.card.card_disabled .card__price,.card.card_disabled .card__title{color:var(--font-color-3);opacity:.5}@media screen and (min-width:1024px){.card__code,.card__presence{margin-bottom:10px}.card__price{font-size:20px}.card__wrap:hover{box-shadow:0 0 15px #3333}.card__title:hover{color:var(--brand-color-1)}.card__buy:hover{background:var(--brand-color-1-transparent)}}'],encapsulation:2}),t})()},5800:(t,e,r)=>{"use strict";r.d(e,{d:()=>c});var i=r(1116),n=r(1334),a=r(866),o=r(5366);let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[i.ez,a.Z,n.Bz]]}),t})()},5401:(t,e,r)=>{"use strict";r.r(e),r.d(e,{CatalogBrandModule:()=>b});var i=r(1116),n=r(1334),a=r(5366),o=r(5031),c=r(8207),s=r(3782),d=r(7672);function p(t,e){1&t&&(a.TgZ(0,"h2",8),a._uU(1,"\u041d\u0430 \u0436\u0430\u043b\u044c, \u0442\u043e\u0432\u0430\u0440\u0438 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456"),a.qZA())}function g(t,e){1&t&&a._UZ(0,"div",11),2&t&&a.Q6J("product",e.$implicit)}function l(t,e){if(1&t&&(a.ynx(0),a.TgZ(1,"div",9),a.YNc(2,g,1,1,"div",10),a.qZA(),a.BQk()),2&t){const t=a.oxw();a.xp6(2),a.Q6J("ngForOf",t.products)}}function u(t,e){1&t&&a._UZ(0,"mat-spinner",12)}const _=[{path:"",component:(()=>{class t{constructor(t,e,r){this._productService=t,this._productTypeService=e,this._route=r,this.isLoading=!0,this.products=[]}getProducts(){this._productServiceSubscription=this._productService.getAll().subscribe(t=>{this.products=t.filter(t=>{let e=-1;return t.parameters&&t.parameters.length>0&&(e=t.parameters.findIndex(t=>"\u0431\u0440\u0435\u043d\u0434"===t.title.toLowerCase().trim()&&t.value.toLowerCase().trim()===this.brandName.toLowerCase().trim())),-1!==e}),this.isLoading=!1})}ngOnInit(){this._route.params.subscribe(t=>{this.brandName=t.brandName,this.getProducts()})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(o.M),a.Y36(c.c),a.Y36(n.gz))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-catalog-brand"]],decls:10,vars:4,consts:[[1,"catalog"],[1,"site__centered"],[1,"site__title"],[1,"catalog__cover"],[1,"catalog__wrap","catalog__wrap_fw"],["class","catalog__cards-empty",4,"ngIf"],[4,"ngIf","ngIfElse"],["loading",""],[1,"catalog__cards-empty"],[1,"catalog__cards"],["app-card","","class","card",3,"product",4,"ngFor","ngForOf"],["app-card","",1,"card",3,"product"],[1,"loading-type-1"]],template:function(t,e){if(1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"h1",2),a._uU(3),a.qZA(),a.TgZ(4,"div",3),a.TgZ(5,"div",4),a.YNc(6,p,2,0,"h2",5),a.YNc(7,l,3,1,"ng-container",6),a.YNc(8,u,1,0,"ng-template",null,7,a.W1O),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=a.MAs(9);a.xp6(3),a.hij("\u041f\u0440\u043e\u0434\u0443\u043a\u0446\u0456\u044f ",e.brandName,""),a.xp6(3),a.Q6J("ngIf",0===e.products.length),a.xp6(1),a.Q6J("ngIf",!e.isLoading)("ngIfElse",t)}},directives:[i.O5,i.sg,s.A,d.$g],styles:[".main-categories[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.main-categories__item[_ngcontent-%COMP%]{width:100%}.main-categories__link[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;color:var(--font-color-3);font-size:16px;line-height:1.2;height:48px}.brand-card[_ngcontent-%COMP%]{padding:0 15px;width:100%;margin-bottom:30px}@media screen and (min-width:540px){.main-categories__item[_ngcontent-%COMP%]{width:50%;border-right:1px solid var(--border-color)}.main-categories__item[_ngcontent-%COMP%]:nth-child(2n){border:none}.main-categories__link[_ngcontent-%COMP%]{padding-left:15px}.main-categories__item[_ngcontent-%COMP%]:nth-child(2n-1)   .main-categories__link[_ngcontent-%COMP%]{padding-left:0}.brand-card[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width:768px){.main-categories__item[_ngcontent-%COMP%]{width:33.3333%}.main-categories__item[_ngcontent-%COMP%]:nth-child(2n){border-right:1px solid var(--border-color)}.main-categories__item[_ngcontent-%COMP%]:nth-child(2n-1)   .main-categories__link[_ngcontent-%COMP%]{padding-left:15px}.main-categories__item[_ngcontent-%COMP%]:nth-child(3n){border:none}.main-categories__item[_ngcontent-%COMP%]:nth-child(3n-2)   .main-categories__link[_ngcontent-%COMP%]{padding-left:0}.brand-card[_ngcontent-%COMP%]{width:33.3333%}}@media screen and (min-width:1024px){.main-categories__item[_ngcontent-%COMP%], .main-categories__item[_ngcontent-%COMP%]:nth-child(2n){width:100%;border:none}.main-categories__item[_ngcontent-%COMP%]:nth-child(2n-1)   .main-categories__link[_ngcontent-%COMP%], .main-categories__link[_ngcontent-%COMP%]{padding:5px 0;height:auto;line-height:1.3;transition:color .3s ease}.main-categories__link[_ngcontent-%COMP%]:hover{color:var(--brand-color-1)}}"]}),t})()}];let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[n.Bz.forChild(_)],n.Bz]}),t})();var h=r(7651),f=r(5800);let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[m,i.ez,h.a,d.Cq,f.d]]}),t})()},866:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var i=r(1116),n=r(5366);let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[i.ez]]}),t})()},1663:(t,e,r)=>{"use strict";r.d(e,{f:()=>n});var i=r(5366);let n=(()=>{class t{transform(t){return null!=t?t.replace(/,/g," "):""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Yjl({name:"removeComma",type:t,pure:!0}),t})()},8207:(t,e,r)=>{"use strict";r.d(e,{c:()=>s});var i=r(529),n=r(9996),a=r(5366),o=r(2693),c=r(5540);let s=(()=>{class t{constructor(t,e){this._http=t,this._angularFireDatabase=e}create(t){return this._angularFireDatabase.list("/productType").push(t)}getTypes(){return this._http.get(`${i.N.firebaseConfig.databaseURL}/productType.json`).pipe((0,n.U)(t=>this._getTypesEdit(t),t=>{console.log("error ",t)}))}getType(t){return this._http.get(`${i.N.firebaseConfig.databaseURL}/productType/${t}.json`).pipe((0,n.U)(t=>t,t=>{console.log("error ",t)}))}remove(t){const e=this._angularFireDatabase.object(`/productType/${t}`);return console.log("curItem ",e),this._angularFireDatabase.object(`/productType/${t}`).remove()}update(t){return this._angularFireDatabase.list("/productType").set(t.id,t)}_getTypesEdit(t){return t?Object.keys(t).map(e=>Object.assign(Object.assign({},t[e]),{id:e,date:new Date(t[e].date)}),t=>{}):[]}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(o.eN),a.LFG(c.KQ))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},5031:(t,e,r)=>{"use strict";r.d(e,{M:()=>s});var i=r(529),n=r(9996),a=r(5366),o=r(2693),c=r(5540);let s=(()=>{class t{constructor(t,e){this._http=t,this._angularFireDatabase=e}create(t){return this._angularFireDatabase.list(`/products/${t.type}`).push(t)}getAll(){return this._http.get(`${i.N.firebaseConfig.databaseURL}/products.json`).pipe((0,n.U)(t=>{let e={};const r=Object.values(t);for(let i=0;i<r.length;i++)e=Object.assign(e,r[i]);return Object.keys(e).map(t=>Object.assign(Object.assign({},e[t]),{id:t}))}))}getByTypeAndID(t,e){return this._http.get(`${i.N.firebaseConfig.databaseURL}/products/${t}/${e}.json`).pipe((0,n.U)(t=>null===t?{}:Object.assign(Object.assign({},t),{id:e})))}getProductsByType(t){return this._http.get(`${i.N.firebaseConfig.databaseURL}/products/${t}.json`).pipe((0,n.U)(t=>t?Object.keys(t).map(e=>Object.assign(Object.assign({},t[e]),{id:e})):[]))}remove(t){return this._angularFireDatabase.object(`/products/${t.type}/${t.id}`).remove()}update(t){return this._angularFireDatabase.list(`/products/${t.type}`).set(t.id,t)}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(o.eN),a.LFG(c.KQ))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);