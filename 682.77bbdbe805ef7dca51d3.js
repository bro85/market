(self.webpackChunkbuildmarket_angular=self.webpackChunkbuildmarket_angular||[]).push([[682],{6682:(t,n,i)=>{"use strict";i.r(n),i.d(n,{CatalogModule:()=>P});var e=i(1116),a=i(3813),r=i(8226),c=i(5366),s=i(5031),o=i(8207),d=i(971);const p=["app-brand-card",""];function g(t,n){if(1&t&&(c.TgZ(0,"div",4),c._UZ(1,"img",5),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.s9C("src",t.type.image.original,c.LSH)}}function l(t,n){1&t&&(c.TgZ(0,"div",6),c._UZ(1,"img",7),c.qZA())}const _=function(t){return["/catalog",t]};let m=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["","app-brand-card",""]],inputs:{type:"type"},attrs:p,decls:6,vars:6,consts:[[1,"brand-card__wrap",3,"routerLink"],["class","brand-card__pic-wrap",4,"ngIf","ngIfElse"],["dummy",""],[1,"brand-card__title"],[1,"brand-card__pic-wrap"],["alt","",1,"brand-card__pic",3,"src"],[1,"brand-card__pic-wrap","brand-card__pic-wrap_dummy"],["src","assets/img/brand-card-dummy.png","alt","",1,"brand-card__pic","brand-card__pic_dummy"]],template:function(t,n){if(1&t&&(c.TgZ(0,"a",0),c.YNc(1,g,2,1,"div",1),c.YNc(2,l,2,0,"ng-template",null,2,c.W1O),c.TgZ(4,"div",3),c._uU(5),c.qZA(),c.qZA()),2&t){const t=c.MAs(3);c.Q6J("routerLink",c.VKq(4,_,n.type.id)),c.xp6(1),c.Q6J("ngIf",n.type.image&&n.type.image.original)("ngIfElse",t),c.xp6(4),c.Oqu(n.type.title)}},directives:[a.yS,e.O5],styles:[".brand-card__wrap[_ngcontent-%COMP%]{display:block}.brand-card__pic-wrap[_ngcontent-%COMP%]{margin-bottom:15px}.brand-card__pic-wrap_dummy[_ngcontent-%COMP%]{background:var(--block-bg-2)}.brand-card__pic[_ngcontent-%COMP%]{display:block;width:100%;max-width:300px;height:200px;margin:0 auto;object-fit:contain}.brand-card__pic_dummy[_ngcontent-%COMP%]{max-width:100px;opacity:.3}.brand-card__title[_ngcontent-%COMP%]{font-weight:500;font-size:18px;text-align:center;color:var(--font-color-1);transition:color .3s ease}@media screen and (min-width:768px){.brand-card__pic_dummy[_ngcontent-%COMP%]{max-width:60px}}@media screen and (min-width:1024px){.brand-card__pic[_ngcontent-%COMP%]{height:150px}.brand-card__title[_ngcontent-%COMP%]{font-size:20px}.brand-card__wrap[_ngcontent-%COMP%]:hover   .brand-card__title[_ngcontent-%COMP%]{color:var(--brand-color-1)}}@media screen and (min-width:1340px){.brand-card__pic[_ngcontent-%COMP%]{height:200px}.brand-card__pic_dummy[_ngcontent-%COMP%]{max-width:100px}}"]}),t})();var u=i(7672),b=i(4088),f=i(4289);function h(t,n){if(1&t&&(c.TgZ(0,"div",5),c.TgZ(1,"a",6),c._UZ(2,"img",7),c.qZA(),c.qZA()),2&t){const t=c.oxw().$implicit;c.xp6(1),c.Q6J("routerLink",t.href),c.xp6(1),c.s9C("src",t.image,c.LSH),c.s9C("alt",t.name)}}function x(t,n){1&t&&c.YNc(0,h,3,3,"ng-template",4)}b.ZP.use([b.pt,b.tl]);let y=(()=>{class t{constructor(){this.brands=r,this.swiperConfig={}}ngOnInit(){this.swiperConfig={autoHeight:!0,slidesPerView:2,spaceBetween:30,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{450:{slidesPerView:3},768:{slidesPerView:4}}}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-brands-slider"]],decls:4,vars:2,consts:[[1,"brand-slider"],[3,"config"],[4,"ngFor","ngForOf"],[1,"swiper-pagination"],["swiperSlide",""],[1,"brand-slider__item"],[1,"brand-slider__link",3,"routerLink"],[1,"brand-slider__pic",3,"src","alt"]],template:function(t,n){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"swiper",1),c.YNc(2,x,1,0,void 0,2),c.qZA(),c._UZ(3,"div",3),c.qZA()),2&t&&(c.xp6(1),c.Q6J("config",n.swiperConfig),c.xp6(1),c.Q6J("ngForOf",n.brands))},directives:[f.nF,e.sg,f.YC,a.yS],styles:[".brand-slider{position:relative;padding:10px 0 30px}.brand-slider .swiper-pagination{bottom:0}.brand-slider .swiper-pagination-bullet.swiper-pagination-bullet-active{background:var(--brand-color-1)}.brand-slider__link{display:block}.brand-slider__pic{display:block;height:70px;width:auto;max-width:100%;margin:0 auto;object-fit:contain;object-position:center}@media screen and (min-width:1024px){.brand-slider__link:hover .brand-slider__pic{filter:grayscale(0)}.brand-slider__pic{filter:grayscale(100%);transition:filter .3s}}"],encapsulation:2}),t})();const w=function(t){return["/catalog",t]};function Z(t,n){if(1&t&&(c.TgZ(0,"span",14),c.TgZ(1,"a",15),c._uU(2),c.qZA(),c.qZA()),2&t){const t=n.$implicit;c.xp6(1),c.Q6J("routerLink",c.VKq(2,w,t.id)),c.xp6(1),c.Oqu(t.title)}}function v(t,n){if(1&t&&(c.ynx(0),c.YNc(1,Z,3,4,"span",13),c.BQk()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.types)}}function k(t,n){if(1&t&&(c.TgZ(0,"span",14),c.TgZ(1,"a",15),c._uU(2),c.qZA(),c.qZA()),2&t){const t=n.$implicit;c.xp6(1),c.Q6J("routerLink",t.href),c.xp6(1),c.Oqu(t.name)}}function O(t,n){if(1&t&&(c.ynx(0),c.TgZ(1,"h2",8),c._uU(2,"\u0411\u0440\u0435\u043d\u0434\u0438:"),c.qZA(),c.TgZ(3,"div",5),c.TgZ(4,"div",6),c.YNc(5,k,3,2,"span",13),c.qZA(),c.qZA(),c.BQk()),2&t){const t=c.oxw();c.xp6(5),c.Q6J("ngForOf",t.brands)}}function T(t,n){1&t&&c._UZ(0,"div",17),2&t&&c.Q6J("type",n.$implicit)}function A(t,n){if(1&t&&(c.ynx(0),c.YNc(1,T,1,1,"div",16),c.BQk()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.types)}}function q(t,n){1&t&&c._UZ(0,"mat-spinner",18)}function C(t,n){1&t&&(c.ynx(0),c._UZ(1,"app-brands-slider"),c.BQk())}const j=[{path:"",component:(()=>{class t{constructor(t,n){this._productService=t,this._productTypeService=n,this.brands=r}getTypesList(){this._getTypesSubscription=this._productTypeService.getTypes().subscribe(t=>{this.types=t,this.types.sort((t,n)=>t.title<n.title?-1:t.title>n.title?1:0)})}ngOnInit(){this.getTypesList()}}return t.\u0275fac=function(n){return new(n||t)(c.Y36(s.M),c.Y36(o.c))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-catalog"]],decls:20,vars:5,consts:[[1,"catalog"],[1,"site__centered"],[1,"site__title"],[1,"catalog__cover"],[1,"catalog__menu"],[1,"catalog__menu-section"],[1,"main-categories"],[4,"ngIf"],[1,"catalog__menu-title"],[1,"catalog__wrap"],[1,"catalog__cards"],[4,"ngIf","ngIfElse"],["loading",""],["class","main-categories__item",4,"ngFor","ngForOf"],[1,"main-categories__item"],[1,"main-categories__link",3,"routerLink"],["class","brand-card","app-brand-card","",3,"type",4,"ngFor","ngForOf"],["app-brand-card","",1,"brand-card",3,"type"],[1,"loading-type-1"]],template:function(t,n){if(1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h1",2),c._uU(3,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0442\u043e\u0432\u0430\u0440\u0456\u0432"),c.qZA(),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.YNc(8,v,2,1,"ng-container",7),c.qZA(),c.qZA(),c.YNc(9,O,6,1,"ng-container",7),c.TgZ(10,"h2",8),c._uU(11,"\u041c\u0438 \u0443 \u0441\u043e\u0446\u043c\u0435\u0440\u0435\u0436\u0430\u0445"),c.qZA(),c.TgZ(12,"div",5),c._UZ(13,"app-social"),c.qZA(),c.qZA(),c.TgZ(14,"div",9),c.TgZ(15,"div",10),c.YNc(16,A,2,1,"ng-container",11),c.YNc(17,q,1,0,"ng-template",null,12,c.W1O),c.qZA(),c.YNc(19,C,2,0,"ng-container",7),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t){const t=c.MAs(18);c.xp6(8),c.Q6J("ngIf",n.types),c.xp6(1),c.Q6J("ngIf",n.brands),c.xp6(7),c.Q6J("ngIf",n.types)("ngIfElse",t),c.xp6(3),c.Q6J("ngIf",n.brands)}},directives:[e.O5,d.z,e.sg,a.yS,m,u.$g,y],styles:[".main-categories{display:flex;flex-direction:row;flex-wrap:wrap}.main-categories__item{width:100%}.main-categories__link{display:flex;flex-direction:row;align-items:center;color:var(--font-color-3);font-size:16px;line-height:1.2;height:48px}.brand-card{padding:0 15px;width:100%;margin-bottom:30px}@media screen and (min-width:540px){.main-categories__item{width:50%;border-right:1px solid var(--border-color)}.main-categories__item:nth-child(2n){border:none}.main-categories__link{padding-left:15px}.main-categories__item:nth-child(2n-1) .main-categories__link{padding-left:0}.brand-card{width:50%}}@media screen and (min-width:768px){.main-categories__item{width:33.3333%}.main-categories__item:nth-child(2n){border-right:1px solid var(--border-color)}.main-categories__item:nth-child(2n-1) .main-categories__link{padding-left:15px}.main-categories__item:nth-child(3n){border:none}.main-categories__item:nth-child(3n-2) .main-categories__link{padding-left:0}.brand-card{width:33.3333%}}@media screen and (min-width:1024px){.main-categories__item,.main-categories__item:nth-child(2n){width:100%;border:none}.main-categories__item:nth-child(2n-1) .main-categories__link,.main-categories__link{padding:5px 0;height:auto;line-height:1.3;transition:color .3s ease}.main-categories__link:hover{color:var(--brand-color-1)}}"],encapsulation:2}),t})()}];let Q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[a.Bz.forChild(j)],a.Bz]}),t})();var U=i(4050),J=i(7651);let M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[e.ez,f.kz,a.Bz]]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[J.a,M,Q,e.ez,u.Cq,U.K]]}),t})()},5031:(t,n,i)=>{"use strict";i.d(n,{M:()=>o});var e=i(529),a=i(9996),r=i(5366),c=i(2693),s=i(5540);let o=(()=>{class t{constructor(t,n){this._http=t,this._angularFireDatabase=n}create(t){return this._angularFireDatabase.list(`/products/${t.type}`).push(t)}getAll(){return this._http.get(`${e.N.firebaseConfig.databaseURL}/products.json`).pipe((0,a.U)(t=>{let n={};const i=Object.values(t);for(let e=0;e<i.length;e++)n=Object.assign(n,i[e]);return Object.keys(n).map(t=>Object.assign(Object.assign({},n[t]),{id:t}))}))}getByTypeAndID(t,n){return this._http.get(`${e.N.firebaseConfig.databaseURL}/products/${t}/${n}.json`).pipe((0,a.U)(t=>null===t?{}:Object.assign(Object.assign({},t),{id:n})))}getProductsByType(t){return this._http.get(`${e.N.firebaseConfig.databaseURL}/products/${t}.json`).pipe((0,a.U)(t=>t?Object.keys(t).map(n=>Object.assign(Object.assign({},t[n]),{id:n})):[]))}remove(t){return this._angularFireDatabase.object(`/products/${t.type}/${t.id}`).remove()}update(t){return this._angularFireDatabase.list(`/products/${t.type}`).set(t.id,t)}}return t.\u0275fac=function(n){return new(n||t)(r.LFG(c.eN),r.LFG(s.KQ))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);