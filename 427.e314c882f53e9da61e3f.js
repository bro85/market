(self.webpackChunkbuildmarket_angular=self.webpackChunkbuildmarket_angular||[]).push([[427],{3427:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ProductPageModule:()=>j});var o=i(1116),r=i(3813),p=i(5366),n=i(4689),s=i(6301),c=i(5031),d=i(4289);let a=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-empty-preview"]],decls:2,vars:0,consts:[[1,"empty-preview"],["src","assets/img/brand-card-dummy.png","alt","",1,"empty-preview__img"]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p._UZ(1,"img",1),p.qZA())},styles:[".empty-preview[_ngcontent-%COMP%]{padding:15px}.empty-preview__img[_ngcontent-%COMP%]{display:block;width:100%;max-width:150px;height:auto;margin:0 auto;opacity:.4}"]}),t})();var u=i(7672),l=i(1663);const _=["sliderRef"];function g(t,e){1&t&&(p.TgZ(0,"div",6),p.TgZ(1,"h1"),p._uU(2,"\u0422\u043e\u0432\u0430\u0440 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0439. "),p.TgZ(3,"a",7),p.TgZ(4,"span"),p._uU(5,"\u041f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0443 \u043a\u0430\u0442\u0430\u043b\u043e\u0433"),p.qZA(),p.qZA(),p._uU(6," \u0442\u0430 \u0437\u0440\u043e\u0431\u0456\u0442\u044c \u0441\u0432\u0456\u0439 \u0432\u0438\u0431\u0456\u0440."),p.qZA(),p.qZA())}const f=function(t){return{active:t}};function h(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"div",27),p.NdJ("click",function(){const e=p.CHM(t).index;return p.oxw(4).changeSlide(e)}),p._UZ(1,"img",28),p.qZA()}if(2&t){const t=e.$implicit;p.Q6J("ngClass",p.VKq(2,f,t.isActive)),p.xp6(1),p.s9C("src",t.src,p.LSH)}}function m(t,e){if(1&t&&(p.TgZ(0,"div",30),p._UZ(1,"img",31),p.qZA()),2&t){const t=p.oxw().$implicit,e=p.oxw(3).ngIf;p.xp6(1),p.s9C("src",t.original,p.LSH),p.s9C("alt",e.title)}}function w(t,e){1&t&&p.YNc(0,m,2,2,"ng-template",29)}function x(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"div",21),p.TgZ(1,"div",22),p.YNc(2,h,2,4,"div",23),p.qZA(),p.TgZ(3,"swiper",24,25),p.NdJ("swiper",function(e){return p.CHM(t),p.oxw(3).onSwiper(e)})("slideChange",function(){return p.CHM(t),p.oxw(3).onSlideChange()}),p.YNc(5,w,1,0,void 0,26),p.qZA(),p.qZA()}if(2&t){const t=p.oxw(2).ngIf,e=p.oxw();p.xp6(2),p.Q6J("ngForOf",e.preview),p.xp6(1),p.Q6J("config",e.config),p.xp6(2),p.Q6J("ngForOf",t.images)}}function b(t,e){1&t&&p._UZ(0,"app-empty-preview")}function v(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"button",32),p.NdJ("click",function(){return p.CHM(t),p.oxw(3).addToCart()}),p._uU(1,"\u0414\u043e\u0434\u0430\u0442\u0438 \u0443 \u043a\u043e\u0448\u0438\u043a"),p.qZA()}}function y(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"button",32),p.NdJ("click",function(){return p.CHM(t),p.oxw(3).addToOrder()}),p._uU(1,"\u0414\u043e\u0434\u0430\u0442\u0438 \u0443 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"),p.qZA()}}function Z(t,e){if(1&t&&(p.TgZ(0,"span",39),p._uU(1),p.qZA()),2&t){const t=p.oxw().$implicit;p.xp6(1),p.Oqu(t.unit)}}function A(t,e){if(1&t&&(p.TgZ(0,"div",35),p.TgZ(1,"div",36),p.TgZ(2,"span"),p._uU(3),p.qZA(),p.qZA(),p.TgZ(4,"div",37),p._uU(5),p.YNc(6,Z,2,1,"span",38),p.qZA(),p.qZA()),2&t){const t=e.$implicit;p.xp6(3),p.Oqu(t.title),p.xp6(2),p.hij("",t.value," "),p.xp6(1),p.Q6J("ngIf",t.unit)}}function I(t,e){if(1&t&&(p.TgZ(0,"div",14),p.TgZ(1,"div",33),p.YNc(2,A,7,3,"div",34),p.qZA(),p.qZA()),2&t){const t=p.oxw(2).ngIf;p.xp6(2),p.Q6J("ngForOf",t.parameters)}}function T(t,e){if(1&t&&(p.TgZ(0,"div",8),p.TgZ(1,"div",9),p.YNc(2,x,6,3,"div",10),p.YNc(3,b,1,0,"ng-template",null,11,p.W1O),p.qZA(),p.TgZ(5,"div",12),p.TgZ(6,"h1",13),p._uU(7),p.qZA(),p.TgZ(8,"div",14),p.TgZ(9,"div",15),p._uU(10),p.ALo(11,"removeComma"),p.ALo(12,"number"),p.TgZ(13,"span",16),p._uU(14,"\u20b4"),p.qZA(),p.qZA(),p.YNc(15,v,2,0,"button",17),p.YNc(16,y,2,0,"ng-template",null,18,p.W1O),p.qZA(),p._UZ(18,"div",19),p.YNc(19,I,3,1,"div",20),p.qZA(),p.qZA()),2&t){const t=p.MAs(4),e=p.MAs(17),i=p.oxw().ngIf,o=p.oxw();p.xp6(2),p.Q6J("ngIf",!!o.preview&&o.preview.length>0)("ngIfElse",t),p.xp6(5),p.Oqu(i.title),p.xp6(3),p.hij("",p.lcZ(11,8,p.xi3(12,10,i.price,"1.2-2"))," "),p.xp6(5),p.Q6J("ngIf",!o.isPopupAddProduct)("ngIfElse",e),p.xp6(3),p.Q6J("innerHTML",i.info,p.oJD),p.xp6(1),p.Q6J("ngIf",!!i.parameters&&i.parameters.length>0)}}function O(t,e){if(1&t&&(p.TgZ(0,"div",3),p.YNc(1,g,7,0,"div",4),p.YNc(2,T,20,13,"ng-template",null,5,p.W1O),p.qZA()),2&t){const t=e.ngIf,i=p.MAs(3),o=p.oxw();p.xp6(1),p.Q6J("ngIf",o.isEmptyObject(t))("ngIfElse",i)}}function k(t,e){1&t&&(p.TgZ(0,"div",3),p._UZ(1,"mat-spinner",40),p.qZA())}const C=[{path:"",component:(()=>{class t{constructor(t,e,i,o){this._cartService=t,this._changeDetectorRef=e,this._productService=i,this._route=o,this.addProductToOrder=new p.vpe,this.config={slidesPerView:1,pagination:{clickable:!0}},this._typeID="",this._productID=""}addToCart(){this._cartService.addProduct(this._typeID,this._productID,1)}addToOrder(){this.addProductToOrder.emit({typeID:this._typeID,productID:this._productID})}changeActivePreview(t){this.preview.forEach((e,i)=>{e.isActive=t===i}),this._changeDetectorRef.detectChanges()}changeSlide(t){this.sliderRef.swiperRef.slideTo(t)}getPreview(t=0){this._productSubscription=this.product$.pipe().subscribe(e=>{this.preview=this.getPreviewArr(e.images,t)})}getPreviewArr(t,e){return t?t.map((t,i)=>({src:t.original,isActive:e===i})):[]}getProduct(){this.isPopupAddProduct?(this._typeID=this.popupConfig.typeID,this._productID=this.popupConfig.productID,this.product$=this._productService.getByTypeAndID(this._typeID,this._productID)):(console.log("\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u043f\u0443\u0441\u0442\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430!"),this.product$=this._route.params.pipe((0,n.w)(t=>(this._typeID=t.typeID,this._productID=t.productID,this._productService.getByTypeAndID(this._typeID,this._productID)))))}isEmptyObject(t){return 0===Object.keys(t).length}ngOnDestroy(){this._productSubscription&&this._productSubscription.unsubscribe()}ngOnInit(){this.getProduct(),this.getPreview()}onSlideChange(){this.changeActivePreview(this.sliderRef.swiperRef.activeIndex)}onSwiper(t){}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(s.N),p.Y36(p.sBO),p.Y36(c.M),p.Y36(r.gz))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-product-page"]],viewQuery:function(t,e){if(1&t&&p.Gf(_,5),2&t){let t;p.iGM(t=p.CRH())&&(e.sliderRef=t.first)}},inputs:{isPopupAddProduct:"isPopupAddProduct",popupConfig:"popupConfig"},outputs:{addProductToOrder:"addProductToOrder"},decls:5,vars:4,consts:[[1,"product"],["class","site__centered",4,"ngIf","ngIfElse"],["loading",""],[1,"site__centered"],["class","product__empty-info",4,"ngIf","ngIfElse"],["productWrap",""],[1,"product__empty-info"],["routerLink","/catalog",1,"site__link"],[1,"product__wrap"],[1,"product__column","product__column_slider"],["class","product-swiper",4,"ngIf","ngIfElse"],["emptyPreview",""],[1,"product__column","product__column_txt"],[1,"product__title"],[1,"product__section"],[1,"product__price"],[1,"product__price-sign"],["type","button","class","btn",3,"click",4,"ngIf","ngIfElse"],["popupButton",""],[1,"product__section",3,"innerHTML"],["class","product__section",4,"ngIf"],[1,"product-swiper"],[1,"product-swiper__preview"],["class","product-swiper__preview-item",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"config","swiper","slideChange"],["sliderRef",""],[4,"ngFor","ngForOf"],[1,"product-swiper__preview-item",3,"ngClass","click"],["alt","",1,"product-swiper__preview-pic",3,"src"],["swiperSlide",""],[1,"product-swiper__slide"],[1,"product-swiper__pic",3,"src","alt"],["type","button",1,"btn",3,"click"],[1,"parameters-list"],["class","parameters-list__item",4,"ngFor","ngForOf"],[1,"parameters-list__item"],[1,"parameters-list__title"],[1,"parameters-list__value"],["class","parameters-list__unit",4,"ngIf"],[1,"parameters-list__unit"],[1,"loading-type-1"]],template:function(t,e){if(1&t&&(p.TgZ(0,"div",0),p.YNc(1,O,4,2,"div",1),p.ALo(2,"async"),p.YNc(3,k,2,0,"ng-template",null,2,p.W1O),p.qZA()),2&t){const t=p.MAs(4);p.xp6(1),p.Q6J("ngIf",p.lcZ(2,2,e.product$))("ngIfElse",t)}},directives:[o.O5,r.yS,o.sg,d.nF,o.mk,d.YC,a,u.$g],pipes:[o.Ov,l.f,o.JJ],styles:['.product__wrap{margin:0 -15px 30px}.product__column{padding:0 15px}.product__column .product__title{margin-bottom:15px;font-size:20px;font-weight:600;font-family:inherit;line-height:1.3;letter-spacing:.5px;word-spacing:2px}.product__section{padding:15px 0;border-bottom:1px solid var(--border-color);font-size:13px}.product__section:last-child{border-bottom:none}.product__section>:last-child{margin-bottom:0}.product__section:first-of-type{padding-top:0}.product__section h1,.product__section h2,.product__section h3,.product__section h4,.product__section h5,.product__section h6,.product__section-title{font-size:17px;line-height:1.3;font-weight:600;margin-bottom:15px;font-family:Inter,sans-serif}.product__section h6{font-size:13px}.product__section h5{font-size:14px}.product__section h4{font-size:15px}.product__section h3{font-size:16px}.product__section h2{font-size:17px}.product__section h1{font-size:18px}.product__section b,.product__section strong{color:var(--font-color-1)}.product__section li{display:block;position:relative;line-height:1.3;margin:0 0 10px;padding-left:13px}.product__section li:before{content:"";position:absolute;top:6px;left:0;color:inherit;background:currentColor;width:4px;height:4px;border-radius:50%}.product__section li:last-child{margin-bottom:0}.product__price{margin-bottom:15px;color:#b12704;font-size:24px}.product__price-sign{font-size:75%}.product__list{margin-bottom:15px}.product__list-item{position:relative;color:var(--font-color-3);font-size:13px;line-height:1.45;padding-left:10px}.product__list-item:before{content:"";position:absolute;top:8px;left:0;width:4px;height:4px;border-radius:50%;background:var(--font-color-3)}.product__empty-info{padding:30px 0}.product a{color:var(--brand-color-1);border-bottom:1px solid;word-break:break-word;transition:border-bottom .3s ease}.product-swiper__preview{display:none;padding:30px 15px 0 0;width:55px}.product-swiper__preview-item{display:inline-block;margin-bottom:0;padding:2px;border-radius:2px;border:1px solid #0000;box-shadow:0 0 2px 0 #0000;cursor:pointer;transition:border-color .3s ease,box-shadow .3s ease}.product-swiper__preview-item.active{border-color:var(--brand-color-1);box-shadow:0 0 9px 0 var(--brand-color-1)}.product-swiper__preview-item img,.product-swiper__preview-pic{display:block;width:38px;height:50px;object-fit:contain;object-position:center}.product-swiper__preview-item p{margin-bottom:0!important}.product-swiper__slide{position:relative;height:250px}.product-swiper__slide p{margin-bottom:0!important}.product-swiper__pic,.product-swiper__slide img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:contain;object-position:center}.product-swiper .swiper{padding-bottom:20px}.product-swiper .swiper-pagination{bottom:0}.product-swiper .swiper-pagination-bullet{opacity:1;background:#0000;border:1px solid var(--font-color-3)}.product-swiper .swiper-pagination-bullet-active{background:var(--font-color-3)}.parameters-list__item{display:flex;flex-direction:row;flex-wrap:wrap;margin-bottom:15px}.parameters-list__item:last-child{margin-bottom:0}.parameters-list__title{position:relative;align-self:flex-start;width:50%}.parameters-list__title:before{content:"";display:none;position:absolute;left:0;bottom:4px;width:100%;border-bottom:1px dotted var(--border-color)}.parameters-list__title span{position:relative;display:inline-block;padding-right:16px;background:#fff}.parameters-list__value{width:50%;padding-left:15px;font-weight:700}@media screen and (min-width:768px){.product__wrap{display:flex;align-items:flex-start}.product__column_slider{width:380px;position:sticky;top:20px}.product__column_txt{width:calc(100% - 380px)}.product-swiper{display:flex;align-items:flex-start}.product-swiper__preview{display:block}.product-swiper__slide{height:300px}.product-swiper .swiper{width:calc(100% - 55px);padding-bottom:0}.product-swiper .swiper-pagination{display:none}.parameters-list__title:before{display:block}}@media screen and (min-width:1024px){.product p{margin-bottom:15px}.product__column_slider{width:500px}.product__column_txt{width:calc(100% - 500px)}.product__column .product__title{font-size:30px}.product__section-title{font-size:20px}.product__section,.product__section h6{font-size:16px}.product__section h5{font-size:17px}.product__section h4{font-size:18px}.product__section h3{font-size:19px}.product__section h2{font-size:20px}.product__section h1{font-size:22px}.product__section li:before{top:8px;width:5px;height:5px}.product__price{font-size:36px}.product__list-item{font-size:16px}.product a:hover{border-bottom:1px solid #0000}.product-swiper__slide{height:400px}}'],encapsulation:2}),t})()}];let q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[r.Bz.forChild(C)],r.Bz]}),t})();var D=i(866);let z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[o.ez]]}),t})(),j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[o.ez,q,D.Z,d.kz,u.Cq,z]]}),t})()},866:(t,e,i)=>{"use strict";i.d(e,{Z:()=>p});var o=i(1116),r=i(5366);let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[o.ez]]}),t})()},1663:(t,e,i)=>{"use strict";i.d(e,{f:()=>r});var o=i(5366);let r=(()=>{class t{transform(t){return null!=t?t.replace(/,/g," "):""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Yjl({name:"removeComma",type:t,pure:!0}),t})()},5031:(t,e,i)=>{"use strict";i.d(e,{M:()=>c});var o=i(529),r=i(9996),p=i(5366),n=i(2693),s=i(5540);let c=(()=>{class t{constructor(t,e){this._http=t,this._angularFireDatabase=e}create(t){return this._angularFireDatabase.list(`/products/${t.type}`).push(t)}getAll(){return this._http.get(`${o.N.firebaseConfig.databaseURL}/products.json`).pipe((0,r.U)(t=>{let e={};const i=Object.values(t);for(let o=0;o<i.length;o++)e=Object.assign(e,i[o]);return Object.keys(e).map(t=>Object.assign(Object.assign({},e[t]),{id:t}))}))}getByTypeAndID(t,e){return this._http.get(`${o.N.firebaseConfig.databaseURL}/products/${t}/${e}.json`).pipe((0,r.U)(t=>null===t?{}:Object.assign(Object.assign({},t),{id:e})))}getProductsByType(t){return this._http.get(`${o.N.firebaseConfig.databaseURL}/products/${t}.json`).pipe((0,r.U)(t=>t?Object.keys(t).map(e=>Object.assign(Object.assign({},t[e]),{id:e})):[]))}remove(t){return this._angularFireDatabase.object(`/products/${t.type}/${t.id}`).remove()}update(t){return this._angularFireDatabase.list(`/products/${t.type}`).set(t.id,t)}}return t.\u0275fac=function(e){return new(e||t)(p.LFG(n.eN),p.LFG(s.KQ))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);