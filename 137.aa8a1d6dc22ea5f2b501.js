(self.webpackChunkbuildmarket_angular=self.webpackChunkbuildmarket_angular||[]).push([[137],{3913:(t,e,n)=>{"use strict";n.r(e),n.d(e,{CatalogModule:()=>T});var a=n(1116),i=n(1334),r=n(5366),c=n(5031),o=n(8207),s=n(971);const d=["app-brand-card",""];function p(t,e){if(1&t&&(r.TgZ(0,"div",4),r._UZ(1,"img",5),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.s9C("src",t.type.image.original,r.LSH)}}function g(t,e){1&t&&(r.TgZ(0,"div",6),r._UZ(1,"img",7),r.qZA())}const _=function(t){return["/catalog",t]};let l=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["","app-brand-card",""]],inputs:{type:"type"},attrs:d,decls:6,vars:6,consts:[[1,"brand-card__wrap",3,"routerLink"],["class","brand-card__pic-wrap",4,"ngIf","ngIfElse"],["dummy",""],[1,"brand-card__title"],[1,"brand-card__pic-wrap"],["alt","",1,"brand-card__pic",3,"src"],[1,"brand-card__pic-wrap","brand-card__pic-wrap_dummy"],["src","assets/img/brand-card-dummy.png","alt","",1,"brand-card__pic","brand-card__pic_dummy"]],template:function(t,e){if(1&t&&(r.TgZ(0,"a",0),r.YNc(1,p,2,1,"div",1),r.YNc(2,g,2,0,"ng-template",null,2,r.W1O),r.TgZ(4,"div",3),r._uU(5),r.qZA(),r.qZA()),2&t){const t=r.MAs(3);r.Q6J("routerLink",r.VKq(4,_,e.type.id)),r.xp6(1),r.Q6J("ngIf",e.type.image&&e.type.image.original)("ngIfElse",t),r.xp6(4),r.Oqu(e.type.title)}},directives:[i.yS,a.O5],styles:[".brand-card__wrap[_ngcontent-%COMP%]{display:block}.brand-card__pic-wrap[_ngcontent-%COMP%]{margin-bottom:15px}.brand-card__pic-wrap_dummy[_ngcontent-%COMP%]{background:var(--block-bg-2)}.brand-card__pic[_ngcontent-%COMP%]{display:block;width:100%;max-width:300px;height:200px;margin:0 auto;object-fit:contain}.brand-card__pic_dummy[_ngcontent-%COMP%]{max-width:100px;opacity:.3}.brand-card__title[_ngcontent-%COMP%]{font-weight:500;font-size:18px;text-align:center;color:var(--font-color-1);transition:color .3s ease}@media screen and (min-width:768px){.brand-card__pic_dummy[_ngcontent-%COMP%]{max-width:60px}}@media screen and (min-width:1024px){.brand-card__pic[_ngcontent-%COMP%]{height:150px}.brand-card__title[_ngcontent-%COMP%]{font-size:20px}.brand-card__wrap[_ngcontent-%COMP%]:hover   .brand-card__title[_ngcontent-%COMP%]{color:var(--brand-color-1)}}@media screen and (min-width:1340px){.brand-card__pic[_ngcontent-%COMP%]{height:200px}.brand-card__pic_dummy[_ngcontent-%COMP%]{max-width:100px}}"]}),t})();var u=n(7672);const m=function(t){return["/catalog",t]};function h(t,e){if(1&t&&(r.TgZ(0,"span",14),r.TgZ(1,"a",15),r._uU(2),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.Q6J("routerLink",r.VKq(2,m,t.id)),r.xp6(1),r.Oqu(t.title)}}function b(t,e){if(1&t&&(r.ynx(0),r.YNc(1,h,3,4,"span",13),r.BQk()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.types)}}function f(t,e){1&t&&r._UZ(0,"div",17),2&t&&r.Q6J("type",e.$implicit)}function y(t,e){if(1&t&&(r.ynx(0),r.YNc(1,f,1,1,"div",16),r.BQk()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.types)}}function x(t,e){1&t&&r._UZ(0,"mat-spinner",18)}const v=[{path:"",component:(()=>{class t{constructor(t,e){this._productService=t,this._productTypeService=e}ngOnInit(){this.getTypesList()}getTypesList(){this._getTypesSubscription=this._productTypeService.getTypes().subscribe(t=>{this.types=t,this.types.sort((t,e)=>t.title<e.title?-1:t.title>e.title?1:0)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(c.M),r.Y36(o.c))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-catalog"]],decls:18,vars:3,consts:[[1,"catalog"],[1,"site__centered"],[1,"site__title"],[1,"catalog__cover"],[1,"catalog__menu"],[1,"catalog__menu-section"],[1,"main-categories"],[4,"ngIf"],[1,"catalog__menu-title"],[1,"catalog__wrap"],[1,"catalog__cards"],[4,"ngIf","ngIfElse"],["loading",""],["class","main-categories__item",4,"ngFor","ngForOf"],[1,"main-categories__item"],[1,"main-categories__link",3,"routerLink"],["class","brand-card","app-brand-card","",3,"type",4,"ngFor","ngForOf"],["app-brand-card","",1,"brand-card",3,"type"],[1,"loading-type-1"]],template:function(t,e){if(1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"h1",2),r._uU(3,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0442\u043e\u0432\u0430\u0440\u0456\u0432"),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r.TgZ(7,"div",6),r.YNc(8,b,2,1,"ng-container",7),r.qZA(),r.qZA(),r.TgZ(9,"h2",8),r._uU(10,"\u041c\u0438 \u0443 \u0441\u043e\u0446\u043c\u0435\u0440\u0435\u0436\u0430\u0445"),r.qZA(),r.TgZ(11,"div",5),r._UZ(12,"app-social"),r.qZA(),r.qZA(),r.TgZ(13,"div",9),r.TgZ(14,"div",10),r.YNc(15,y,2,1,"ng-container",11),r.YNc(16,x,1,0,"ng-template",null,12,r.W1O),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.MAs(17);r.xp6(8),r.Q6J("ngIf",e.types),r.xp6(7),r.Q6J("ngIf",e.types)("ngIfElse",t)}},directives:[a.O5,s.z,a.sg,i.yS,l,u.$g],styles:[".main-categories{display:flex;flex-direction:row;flex-wrap:wrap}.main-categories__item{width:100%}.main-categories__link{display:flex;flex-direction:row;align-items:center;color:var(--font-color-3);font-size:16px;line-height:1.2;height:48px}.brand-card{padding:0 15px;width:100%;margin-bottom:30px}@media screen and (min-width:540px){.main-categories__item{width:50%;border-right:1px solid var(--border-color)}.main-categories__item:nth-child(2n){border:none}.main-categories__link{padding-left:15px}.main-categories__item:nth-child(2n-1) .main-categories__link{padding-left:0}.brand-card{width:50%}}@media screen and (min-width:768px){.main-categories__item{width:33.3333%}.main-categories__item:nth-child(2n){border-right:1px solid var(--border-color)}.main-categories__item:nth-child(2n-1) .main-categories__link{padding-left:15px}.main-categories__item:nth-child(3n){border:none}.main-categories__item:nth-child(3n-2) .main-categories__link{padding-left:0}.brand-card{width:33.3333%}}@media screen and (min-width:1024px){.main-categories__item,.main-categories__item:nth-child(2n){width:100%;border:none}.main-categories__item:nth-child(2n-1) .main-categories__link,.main-categories__link{padding:5px 0;height:auto;line-height:1.3;transition:color .3s ease}.main-categories__link:hover{color:var(--brand-color-1)}}"],encapsulation:2}),t})()}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[i.Bz.forChild(v)],i.Bz]}),t})();var Z=n(4050),O=n(7651);let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[a.ez,w,Z.K,O.a,u.Cq]]}),t})()},8207:(t,e,n)=>{"use strict";n.d(e,{c:()=>s});var a=n(529),i=n(9996),r=n(5366),c=n(2693),o=n(5540);let s=(()=>{class t{constructor(t,e){this._http=t,this._angularFireDatabase=e}create(t){return this._angularFireDatabase.list("/productType").push(t)}getTypes(){return this._http.get(`${a.N.firebaseConfig.databaseURL}/productType.json`).pipe((0,i.U)(t=>this._getTypesEdit(t),t=>{console.log("error ",t)}))}getType(t){return this._http.get(`${a.N.firebaseConfig.databaseURL}/productType/${t}.json`).pipe((0,i.U)(t=>t,t=>{console.log("error ",t)}))}remove(t){const e=this._angularFireDatabase.object(`/productType/${t}`);return console.log("curItem ",e),this._angularFireDatabase.object(`/productType/${t}`).remove()}update(t){return this._angularFireDatabase.list("/productType").set(t.id,t)}_getTypesEdit(t){return t?Object.keys(t).map(e=>Object.assign(Object.assign({},t[e]),{id:e,date:new Date(t[e].date)}),t=>{}):[]}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(c.eN),r.LFG(o.KQ))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},5031:(t,e,n)=>{"use strict";n.d(e,{M:()=>s});var a=n(529),i=n(9996),r=n(5366),c=n(2693),o=n(5540);let s=(()=>{class t{constructor(t,e){this._http=t,this._angularFireDatabase=e}create(t){return this._angularFireDatabase.list(`/products/${t.type}`).push(t)}getAll(){return this._http.get(`${a.N.firebaseConfig.databaseURL}/products.json`).pipe((0,i.U)(t=>{let e={};const n=Object.values(t);for(let a=0;a<n.length;a++)e=Object.assign(e,n[a]);return Object.keys(e).map(t=>Object.assign(Object.assign({},e[t]),{id:t}))}))}getByTypeAndID(t,e){return this._http.get(`${a.N.firebaseConfig.databaseURL}/products/${t}/${e}.json`).pipe((0,i.U)(t=>null===t?{}:Object.assign(Object.assign({},t),{id:e})))}getProductsByType(t){return this._http.get(`${a.N.firebaseConfig.databaseURL}/products/${t}.json`).pipe((0,i.U)(t=>t?Object.keys(t).map(e=>Object.assign(Object.assign({},t[e]),{id:e})):[]))}remove(t){return this._angularFireDatabase.object(`/products/${t.type}/${t.id}`).remove()}update(t){return this._angularFireDatabase.list(`/products/${t.type}`).set(t.id,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(c.eN),r.LFG(o.KQ))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);